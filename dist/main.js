(()=>{"use strict";const e=async function(e="Tokyo"){let t="https://api.openweathermap.org/data/2.5/weather?q="+e+"&appid=aabf6a78df5059eed68efb2611dc411a";try{const e=await fetch(t,{mode:"cors"});return function(e){const{name:t,main:{temp:n,temp_max:i,temp_min:r,feels_like:o,humidity:s,pressure:a},wind:{speed:c},weather:[{main:l,description:u}],clouds:{all:d}}=e;return{cityName:t,temperature:n,maxTemp:i,minTemp:r,feelsLike:o,humidity:s,pressure:a,windSpeed:c,conditions:l,descript:u,cloudiness:d}}(await e.json())}catch(e){alert(e)}},t=(()=>{function e(e){let t="div."+e+" div";return document.querySelector(t)}function t(e){let t=e.split("");return t[0]=t[0].toUpperCase(),t.join("")}function n(e){document.querySelector(".cityName").textContent=e}function i(e){switch(e){case"temperature":case"maxTemp":case"minTemp":case"feelsLike":return"Â°C";case"humidity":case"cloudiness":return"%";case"pressure":return"mb";case"windSpeed":return"km/h";default:return}}return{appendValues:function(r){for(let o in r){let s=r[o];"descript"===o&&(s=t(s));const a=e(o),c=i(o);a?a.textContent=c?s+c:s:n(s)}},toggleForm:function(){const e=document.querySelector("form");"none"===e.style.display?e.style.display="flex":e.style.display="none"},toggleWidget:function(){const e=document.getElementById("weatherinfo");console.log(e.style.display),"none"!==e.style.display&&e.style.display?e.style.display="none":e.style.display="grid"}}})();(()=>{const n=document.querySelector("#search");document.querySelector("#search + button").addEventListener("click",(function(i){i.preventDefault(),e(n.value).then((function(e){t.toggleForm(),t.toggleWidget(),function(e,t="C"){const{temperature:n,maxTemp:i,minTemp:r,feelsLike:o}=e;if("C"===t)for(let t in{temperature:n,maxTemp:i,minTemp:r,feelsLike:o})e[t]=(s=e[t],a=void 0,a=parseFloat(s)-273.15,Math.round(2*a)/2);var s,a}(e),t.appendValues(e)}))}))})()})();