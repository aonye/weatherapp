(()=>{"use strict";const e=async function(e="Tokyo"){let t="https://api.openweathermap.org/data/2.5/weather?q="+e+"&appid=aabf6a78df5059eed68efb2611dc411a";try{const e=await fetch(t,{mode:"cors"});return function(e){const{name:t,main:{temp:n,temp_max:o,temp_min:i,feels_like:r,humidity:c,pressure:s},wind:{speed:a},weather:[{main:l,description:u}],clouds:{all:d}}=e;return{cityName:t,temperature:n,maxTemp:o,minTemp:i,feelsLike:r,humidity:c,pressure:s,windSpeed:a,conditions:l,descript:u,cloudiness:d}}(await e.json())}catch(e){alert(e)}},t=(()=>{function e(e){let t="div."+e+" div";return document.querySelector(t)}function t(e){let t=e.split("");return t[0]=t[0].toUpperCase(),t.join("")}function n(e){document.querySelector(".cityName").textContent=e}function o(e){switch(e){case"temperature":case"maxTemp":case"minTemp":case"feelsLike":return"Â°C";case"humidity":case"cloudiness":return"%";case"pressure":return"mb";case"windSpeed":return"km/h";default:return}}return{appendValues:function(i){for(let r in i){let c=i[r];"descript"===r&&(c=t(c));const s=e(r),a=o(r);s?s.textContent=a?c+a:c:n(c)}},toggleForm:function(){const e=document.querySelector("form");"none"===e.style.display?e.style.display="flex":e.style.display="none"},toggleWidget:function(){const e=document.getElementById("weatherinfo");console.log(e.style.display),"none"!==e.style.display&&e.style.display?e.style.display="none":e.style.display="grid"}}})();(()=>{const n=document.querySelector("#search"),o=document.querySelector("#search + button"),i=document.getElementById("checkbox");o.addEventListener("click",(function(o){o.preventDefault();const i=n.value;n.value="",e(i).then((function(e){t.toggleForm(),t.toggleWidget(),function(e,t="C"){const{temperature:n,maxTemp:o,minTemp:i,feelsLike:r}=e;if("C"===t)for(let t in{temperature:n,maxTemp:o,minTemp:i,feelsLike:r})e[t]=(c=e[t],s=void 0,s=parseFloat(c)-273.15,Math.round(2*s)/2);var c,s}(e),t.appendValues(e)}))})),i.addEventListener("change",(function(e){console.log(e.target.checked),e.target.checked=!0,t.toggleForm(),t.toggleWidget()}))})()})();